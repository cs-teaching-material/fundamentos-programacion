<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lógica de Programación - Sesión 5: Ciclos en C#</title>

  <style>
    :root{
      /* Tema (igual al ejemplo) */
      --texto:#201F4B;
      --azul-medio:#015583;
      --turquesa:#05ADBC;
      --muted:#6b7280;
      --white:#ffffff;

      /* Tipografía/espaciado base (estilo ejemplo) */
      --h1: clamp(30px, 3.4vw, 48px);
      --h2: clamp(22px, 2.3vw, 34px);
      --h3: clamp(16px, 1.7vw, 22px);
      --p:  clamp(15px, 1.3vw, 19px);
      --li: clamp(15px, 1.3vw, 19px);

      /* Safe margins (evitan tapar logos y elementos del fondo) */
      --safe-top-cover: clamp(208px, 9vh, 128px);
      --safe-left-cover: clamp(585px, 5.5vw, 110px);
      --safe-right-cover: clamp(28px, 3vw, 72px);
      --safe-bottom-cover: clamp(54px, 6vh, 92px);

      --safe-top: clamp(100px, 9vh, 132px);
      --safe-side: clamp(66px, 5.5vw, 108px);
      --safe-bottom: clamp(52px, 6vh, 90px);
    }

    body{
      margin:0;
      font-family: Arial, Helvetica, sans-serif;
      background:#ffffff;
    }

    .deck{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:clamp(10px, 2vw, 22px);
      box-sizing:border-box;
      background:#ffffff;
    }

    .stage{
      width:min(96vw, calc(92vh * (16/9)));
      aspect-ratio:16/9;
      position:relative;
    }

    .slide{
      position:absolute;
      inset:0;
      display:none;
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .slide.active{ display:block; }

    /* Fondos institucionales (igual que tu ejemplo) */
    .slide.cover{
      background:url("./Portada.png") center/cover no-repeat;
      color:#ffffff;
    }
    .slide.content-slide{
      background:
        url("./Contenido.png") top left/contain no-repeat,
        #ffffff;
      color:var(--texto);
    }

    /* Safe padding por tipo de slide */
    .inner{
      height:100%;
      box-sizing:border-box;
      padding: var(--safe-top) var(--safe-side) var(--safe-bottom) var(--safe-side);
      display:flex;
      flex-direction:column;
      gap:clamp(10px, 1.1vw, 18px);
    }
    .cover .inner{
      padding:
        var(--safe-top-cover)
        var(--safe-right-cover)
        var(--safe-bottom-cover)
        var(--safe-left-cover);
    }

    .content{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:clamp(10px, 1.1vw, 16px);
      min-height:0;
    }

    .header{
      color:var(--azul-medio);
      font-size:clamp(18px, 1.6vw, 22px);
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
    }

    h1{
      margin:0;
      font-size:var(--h1);
      line-height:1.08;
      color:var(--texto);
    }
    h2{
      margin:0;
      font-size:var(--h2);
      line-height:1.15;
      color:var(--azul-medio);
    }
    h3{
      margin:0;
      font-size:var(--h3);
      line-height:1.2;
      color:var(--texto);
    }

    p{
      margin:0;
      font-size:var(--p);
      line-height:1.4;
      color:var(--texto);
    }
    li{
      font-size:var(--li);
      line-height:1.4;
      color:var(--texto);
    }
    ul,ol{ margin:0; padding-left:1.2em; }

    .subtitle{
      color:var(--turquesa);
      font-weight:800;
      font-size:clamp(18px, 1.8vw, 24px);
      margin-top:clamp(6px, 1vw, 10px);
    }

    /* Portada: colores como ejemplo (blanco + amarillo) */
    .cover h1{ color:#ffffff; }
    .cover p{ color:#e5edf8; }
    .cover .subtitle{ color:#f7df00; }

    .pill{
      display:inline-block;
      padding:4px 12px;
      border-radius:999px;
      border:2px solid var(--turquesa);
      color:var(--turquesa);
      font-size:clamp(12px, 1.1vw, 14px);
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:.08em;
      background:rgba(255,255,255,0.92);
    }

    .note{
      color:var(--muted);
      font-size:clamp(12px, 1.05vw, 14px);
      line-height:1.35;
    }

    .callout{
      background:rgba(255,255,255,0.94);
      border-left:6px solid var(--turquesa);
      padding:clamp(10px, 1.1vw, 14px);
      border-radius:6px;
    }

    .two-col{
      display:grid;
      grid-template-columns:1.15fr 0.9fr;
      gap:clamp(12px, 1.6vw, 22px);
      align-items:flex-start;
      min-height:0;
    }
    @media(max-width:980px){
      .two-col{ grid-template-columns:1fr; }
    }

    .card{
      background:rgba(255,255,255,0.96);
      border:1px solid #dde2f1;
      border-radius:10px;
      padding:clamp(10px, 1.1vw, 14px);
    }
    .card h3{ color:var(--azul-medio); margin-bottom:6px; }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background:#111827;
      color:#e5e7eb;
      padding:2px 8px;
      border-radius:7px;
      font-size:clamp(11px, 1vw, 13px);
      border:1px solid rgba(255,255,255,.08);
    }

    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:clamp(12px, 1.05vw, 14px);
      line-height:1.35;
      background:#0b1020;
      color:#e5e7eb;
      border-radius:10px;
      padding:clamp(10px, 1.1vw, 14px);
      overflow:auto;
      max-height: 42vh;
      border:1px solid rgba(17,24,39,.25);
      white-space:pre-wrap;
    }

    .imgbox{
      background:rgba(255,255,255,0.96);
      border:1px solid #dde2f1;
      border-radius:10px;
      padding:clamp(10px, 1.1vw, 14px);
    }
    .imgwrap{
      width:100%;
      height: min(34vh, 280px);
      border-radius:10px;
      border:1px solid #dde2f1;
      background:#ffffff;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:8px;
      box-sizing:border-box;
    }
    .imgwrap img, .imgwrap svg{
      width:100%;
      height:100%;
      object-fit:contain; /* siempre completa, sin deformar */
    }

    table{
      width:100%;
      border-collapse:collapse;
      background:rgba(255,255,255,0.96);
    }
    th,td{
      border:1px solid #dde2f1;
      padding:clamp(8px, 1vw, 12px);
      font-size:clamp(13px, 1.15vw, 17px);
      color:var(--texto);
      vertical-align:top;
    }
    th{
      background:#f3f6fb;
      text-transform:uppercase;
      font-size:clamp(12px, 1.05vw, 13px);
      letter-spacing:.06em;
      color:var(--azul-medio);
    }

    .footer{
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:var(--muted);
      font-size:clamp(12px, 1.05vw, 14px);
      gap:14px;
    }

    .counter{
      font-weight:800;
      color:var(--azul-medio);
    }
    .cover .counter{ color:#e5edf8; }

    /* Botones para touch (no estorban teclado) */
    .touch-nav{
      position:absolute;
      left:0; right:0;
      bottom:10px;
      display:none;
      justify-content:space-between;
      padding: 0 14px;
      pointer-events:none;
    }
    .touch-nav button{
      pointer-events:auto;
      border:1px solid rgba(221,226,241,0.9);
      background:rgba(255,255,255,0.92);
      color:var(--texto);
      border-radius:999px;
      padding:10px 14px;
      font-weight:800;
      box-shadow:0 10px 22px rgba(0,0,0,.12);
    }
  </style>
</head>

<body>
<div class="deck">
  <div class="stage">

    <!-- 1) PORTADA (solo título y subtítulo) -->
    <section class="slide cover active" data-title="Portada">
      <div class="inner">
        <div class="content">
          <h1>Sesión 5: Ciclos (iteración) en C#</h1>
          <div class="subtitle">Cómo repetir sin duplicar código: for, while, contadores y acumuladores</div>

          <p class="note" style="margin-top:auto;">
            Navegación: <span class="kbd">←</span> <span class="kbd">→</span> |
            <span class="kbd">Home</span> <span class="kbd">End</span> |
            <span class="kbd">F</span> pantalla completa
          </p>
        </div>

        <div class="footer">
          <span style="color:#e5edf8;">I.U. Pascual Bravo</span>
          <span class="counter">1 / 1</span>
        </div>
      </div>
    </section>

    <!-- 2) AGENDA -->
    <section class="slide content-slide" data-title="Agenda">
      <div class="inner">
        <div class="content">
          <div class="header">Agenda</div>
          <h2>¿Qué veremos exactamente?</h2>

          <div class="callout">
            <p>
              A partir de esta sesión trabajaremos las soluciones principalmente en <b>C#</b>.
              El pseudocódigo se usará como apoyo para entender la lógica, pero el entregable será el programa.
            </p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>Bloque A — Fundamento</h3>
              <ul>
                <li>Qué es iterar y por qué no se “copian y pegan” pasos.</li>
                <li>Partes de un ciclo: inicialización, condición, bloque y progreso.</li>
                <li>Errores típicos: ciclo infinito, off-by-one, acumuladores mal ubicados.</li>
              </ul>
            </div>
            <div class="card">
              <h3>Bloque B — Aplicación</h3>
              <ul>
                <li>for: cuando sabes cuántas repeticiones necesitas.</li>
                <li>while: cuando repites hasta que ocurra algo (centinela o condición).</li>
                <li>Contador vs acumulador: “cuántos” vs “cuánto”.</li>
              </ul>
            </div>
          </div>

          <p class="note">Meta: que puedas justificar tu solución con una traza y casos borde.</p>
        </div>

        <div class="footer">
          <span>Sesión 5 · Lógica de Programación</span>
          <span class="counter">2 / 15</span>
        </div>
      </div>
    </section>

    <!-- 3) POR QUÉ CICLOS -->
    <section class="slide content-slide" data-title="Por qué ciclos">
      <div class="inner">
        <div class="content">
          <div class="header">Fundamento</div>
          <h2>¿Qué problema resuelve un ciclo?</h2>

          <div class="two-col">
            <div class="card">
              <h3>La idea central</h3>
              <p>
                Un ciclo es una estructura de control que ejecuta un conjunto de instrucciones
                <b>más de una vez</b> de forma controlada.
              </p>
              <p style="margin-top:10px;">
                La motivación real no es “ahorrar escritura”, sino lograr que la solución
                funcione para <b>N datos</b> sin que tu algoritmo cambie.
              </p>
              <p style="margin-top:10px;">
                Si el enunciado dice “para cada…”, “todos los…”, “hasta que…”, casi siempre estás
                frente a un ciclo.
              </p>
            </div>
            <div class="card">
              <h3>Señales de que te falta iteración</h3>
              <ul>
                <li>Tu solución solo funciona para 2 o 3 valores “porque eso fue lo que probaste”.</li>
                <li>Duplicaste el mismo bloque cambiando apenas el nombre de una variable.</li>
                <li>No puedes explicar qué pasaría si mañana fueran 1000 entradas.</li>
              </ul>
              <p class="note" style="margin-top:10px;">
                Programar bien: diseñar un proceso general, no “resolver un ejemplo”.
              </p>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Unidad 2 · Iteración</span>
          <span class="counter">3 / 15</span>
        </div>
      </div>
    </section>

    <!-- 4) PARTES DE UN CICLO -->
    <section class="slide content-slide" data-title="Partes de un ciclo">
      <div class="inner">
        <div class="content">
          <div class="header">Fundamento</div>
          <h2>Las 4 piezas que todo ciclo necesita</h2>

          <div class="two-col">
            <div class="imgbox">
              <div class="imgwrap">
                <svg viewBox="0 0 900 420" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                  <defs>
                    <style>
                      .b{fill:#ffffff;stroke:#cbd5e1;stroke-width:2;}
                      .t{fill:#015583;font-family:Arial,Helvetica,sans-serif;font-size:20px;font-weight:800;}
                      .m{fill:#201F4B;font-family:Arial,Helvetica,sans-serif;font-size:18px;}
                      .a{stroke:#05ADBC;stroke-width:3;marker-end:url(#arrow);}
                    </style>
                    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
                      <path d="M 0 0 L 10 5 L 0 10 z" fill="#05ADBC"/>
                    </marker>
                  </defs>

                  <rect class="b" x="40" y="40" rx="14" ry="14" width="360" height="95"/>
                  <text class="t" x="70" y="78">1) Inicialización</text>
                  <text class="m" x="70" y="108">Ej: total=0; i=1</text>

                  <rect class="b" x="460" y="40" rx="14" ry="14" width="400" height="95"/>
                  <text class="t" x="490" y="78">2) Condición</text>
                  <text class="m" x="490" y="108">¿se repite o se detiene?</text>

                  <rect class="b" x="460" y="175" rx="14" ry="14" width="400" height="95"/>
                  <text class="t" x="490" y="213">3) Bloque</text>
                  <text class="m" x="490" y="243">leer, sumar, contar...</text>

                  <rect class="b" x="460" y="310" rx="14" ry="14" width="400" height="95"/>
                  <text class="t" x="490" y="348">4) Progreso</text>
                  <text class="m" x="490" y="378">i++ o cambia el estado</text>

                  <line class="a" x1="400" y1="88" x2="460" y2="88"/>
                  <line class="a" x1="660" y1="135" x2="660" y2="175"/>
                  <line class="a" x1="660" y1="270" x2="660" y2="310"/>
                  <line class="a" x1="860" y1="357" x2="890" y2="357"/>
                  <line class="a" x1="890" y1="357" x2="890" y2="88"/>
                  <line class="a" x1="890" y1="88" x2="860" y2="88"/>
                </svg>
              </div>
              <p class="note" style="margin-top:10px;">
                Si falta el progreso (o está mal), el ciclo puede no terminar.
              </p>
            </div>

            <div class="card">
              <h3>Cómo pensar un ciclo sin perderte</h3>
              <p>
                Antes de escribir código, responde estas preguntas:
              </p>
              <ul style="margin-top:10px;">
                <li>¿Qué variable controla la repetición? (un i, una opción del menú, un estado)</li>
                <li>¿Cuál es la condición de parada exacta? (por ejemplo: i &gt; N, o entrada == -1)</li>
                <li>¿Qué cambia en cada vuelta para acercarte a parar? (i++, leer de nuevo, actualizar estado)</li>
                <li>¿Qué debe quedar listo al final? (suma, promedio, máximo, conteo)</li>
              </ul>
              <p class="note" style="margin-top:10px;">
                Esto reduce el 80% de errores antes de ejecutar.
              </p>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Diseño de ciclos</span>
          <span class="counter">4 / 15</span>
        </div>
      </div>
    </section>

    <!-- 5) FOR -->
    <section class="slide content-slide" data-title="for">
      <div class="inner">
        <div class="content">
          <div class="header">C#</div>
          <h2>for: cuando sabes cuántas repeticiones necesitas</h2>

          <div class="two-col">
            <div class="card">
              <h3>Explicación</h3>
              <p>
                Un <b>for</b> es ideal cuando el problema te da un número N o un rango claro.
                En ese caso, el contador (por ejemplo i) avanza de forma predecible.
              </p>
              <p style="margin-top:10px;">
                Léelo así: “inicia i”, “mientras se cumpla la condición”, “ejecuta el bloque”,
                “luego avanza i”.
              </p>
              <ul style="margin-top:10px;">
                <li>Inicialización: <b>int i = 1</b></li>
                <li>Condición: <b>i &lt;= N</b></li>
                <li>Progreso: <b>i++</b></li>
              </ul>
            </div>

            <div class="card">
              <h3>Código base</h3>
              <div class="code">for (int i = 1; i <= N; i++)
{
  // 1) Leer/Calcular algo
  // 2) Actualizar acumuladores/contadores
  // 3) (Opcional) Validar y corregir
}</div>
              <p class="note" style="margin-top:10px;">
                Off-by-one: revisa si tu i debe iniciar en 0 o 1, y si la condición es &lt; o &lt;=.
              </p>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>for · repetición por conteo</span>
          <span class="counter">5 / 15</span>
        </div>
      </div>
    </section>

    <!-- 6) WHILE -->
    <section class="slide content-slide" data-title="while">
      <div class="inner">
        <div class="content">
          <div class="header">C#</div>
          <h2>while: cuando repites hasta que ocurra una condición</h2>

          <div class="two-col">
            <div class="card">
              <h3>Explicación</h3>
              <p>
                Un <b>while</b> es útil cuando no sabes cuántas iteraciones habrá.
                En vez de contar vueltas, controlas la repetición por una condición de parada.
              </p>
              <p style="margin-top:10px;">
                Ejemplos típicos: “mientras el usuario quiera continuar”, “hasta que la entrada sea válida”,
                “hasta encontrar un elemento”.
              </p>
              <p style="margin-top:10px;">
                Clave: en cada vuelta debe ocurrir algo que haga que la condición cambie, o no terminará.
              </p>
            </div>

            <div class="card">
              <h3>Código base</h3>
              <div class="code">while (condicion)
{
  // Bloque del ciclo
  // Debe existir progreso:
  // - actualizar variable de control
  // - o volver a leer
  // - o cambiar el estado
}</div>
              <p class="note" style="margin-top:10px;">
                Si “se cuelga”, casi siempre es porque la condición nunca cambia.
              </p>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>while · repetición por condición</span>
          <span class="counter">6 / 15</span>
        </div>
      </div>
    </section>

    <!-- 7) CONTADOR vs ACUMULADOR -->
    <section class="slide content-slide" data-title="Contador y acumulador">
      <div class="inner">
        <div class="content">
          <div class="header">Herramientas</div>
          <h2>Contador vs acumulador (la dupla más usada)</h2>

          <div class="two-col">
            <div class="card">
              <h3>Contador</h3>
              <p>
                Un contador modela “cuántas veces ocurre algo”. Empieza en 0 y normalmente sube de 1 en 1.
              </p>
              <ul style="margin-top:10px;">
                <li>Cuántas notas son &lt; 3.0</li>
                <li>Cuántos intentos hizo el usuario</li>
                <li>Cuántos datos están fuera de rango</li>
              </ul>
              <div class="code" style="margin-top:10px;">int debajoDeTres = 0;

if (nota < 3.0m)
{
  debajoDeTres++;
}</div>
            </div>

            <div class="card">
              <h3>Acumulador</h3>
              <p>
                Un acumulador modela “cuánto llevo”. Suma valores para obtener un total.
              </p>
              <ul style="margin-top:10px;">
                <li>Suma de notas para promedio</li>
                <li>Total de ventas</li>
                <li>Consumo total (kWh)</li>
              </ul>
              <div class="code" style="margin-top:10px;">decimal suma = 0m;

suma += nota; // suma = suma + nota</div>
            </div>
          </div>

          <div class="callout">
            <p>
              Regla de oro: declara contadores/acumuladores <b>antes</b> del ciclo.
              Si los declaras dentro, se reinician en cada iteración y tu resultado final quedará mal.
            </p>
          </div>
        </div>

        <div class="footer">
          <span>Variables de control</span>
          <span class="counter">7 / 15</span>
        </div>
      </div>
    </section>

    <!-- 8) EJEMPLO 1: N NOTAS (FOR) -->
    <section class="slide content-slide" data-title="Ejemplo for">
      <div class="inner">
        <div class="content">
          <div class="header">Ejemplo</div>
          <h2>Ejemplo 1 (for): estadísticas de N notas</h2>

          <div class="card">
            <p>
              Problema: leer <b>N</b> notas (0.0 a 5.0) y calcular:
              (1) promedio, (2) cuántas están por debajo de 3.0, (3) máxima.
            </p>
            <p style="margin-top:10px;">
              Casos borde que debes pensar: N=0 (no hay notas), nota=3.0 exacto, nota=0.0 o 5.0.
            </p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>Decisiones de diseño (explicadas)</h3>
              <ul>
                <li>El promedio solo existe si N &gt; 0 (evita división por cero).</li>
                <li>Para máxima: puedes inicializar con la primera nota si N&gt;0, o usar una “bandera”.</li>
                <li>Valida rango 0..5 para evitar datos imposibles.</li>
              </ul>
              <p class="note" style="margin-top:10px;">
                Hoy el foco es el ciclo; la validación completa con reintento la trabajamos como mejora.
              </p>
            </div>

            <div class="card">
              <h3>C# (claro y directo)</h3>
              <div class="code">Console.Write("N: ");
int N = int.Parse(Console.ReadLine()!);

decimal suma = 0m;
int debajoDeTres = 0;

decimal max = 0m;
bool hayDatos = false;

for (int i = 1; i <= N; i++)
{
  Console.Write($"Nota {i} (0..5): ");
  decimal nota = decimal.Parse(Console.ReadLine()!);

  // (Validación mínima opcional)
  // if (nota < 0m || nota > 5m) { ... }

  suma += nota;

  if (nota < 3.0m)
    debajoDeTres++;

  if (!hayDatos)
  {
    max = nota;
    hayDatos = true;
  }
  else if (nota > max)
  {
    max = nota;
  }
}

if (N > 0)
{
  decimal promedio = suma / N;
  Console.WriteLine($"Promedio: {promedio}");
  Console.WriteLine($"Debajo de 3.0: {debajoDeTres}");
  Console.WriteLine($"Máxima: {max}");
}
else
{
  Console.WriteLine("No hay datos (N=0).");
}</div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Ejemplo · for + variables de control</span>
          <span class="counter">8 / 15</span>
        </div>
      </div>
    </section>

    <!-- 9) EJEMPLO 2: CENTINELA (WHILE) -->
    <section class="slide content-slide" data-title="Ejemplo while (centinela)">
      <div class="inner">
        <div class="content">
          <div class="header">Ejemplo</div>
          <h2>Ejemplo 2 (while): centinela para terminar</h2>

          <div class="card">
            <p>
              Problema: el usuario ingresa consumos. Cuando ingresa <b>-1</b>, se termina y se muestran:
              cantidad de consumos válidos y el total acumulado.
            </p>
            <p style="margin-top:10px;">
              La regla importante es lógica: el centinela <b>-1</b> es una señal de fin, no un dato del conjunto.
              Por eso NO se suma ni se cuenta.
            </p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>Patrón mental</h3>
              <ul>
                <li>Leer un valor inicial (para poder evaluar la condición).</li>
                <li>Mientras no sea el centinela: procesar, luego volver a leer.</li>
                <li>Al final: imprimir resultados.</li>
              </ul>
              <p class="note" style="margin-top:10px;">
                Este patrón evita “leer dos veces” o mezclar el centinela con datos reales.
              </p>
            </div>

            <div class="card">
              <h3>C#</h3>
              <div class="code">decimal total = 0m;
int cantidad = 0;

Console.Write("Consumo (-1 para terminar): ");
decimal x = decimal.Parse(Console.ReadLine()!);

while (x != -1m)
{
  total += x;
  cantidad++;

  Console.Write("Consumo (-1 para terminar): ");
  x = decimal.Parse(Console.ReadLine()!);
}

Console.WriteLine($"Cantidad: {cantidad}");
Console.WriteLine($"Total: {total}");</div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Ejemplo · while + centinela</span>
          <span class="counter">9 / 15</span>
        </div>
      </div>
    </section>

    <!-- 10) PRUEBA DE ESCRITORIO / TRAZA -->
    <section class="slide content-slide" data-title="Traza">
      <div class="inner">
        <div class="content">
          <div class="header">Verificación</div>
          <h2>Traza: cómo demuestras que tu ciclo está bien</h2>

          <div class="two-col">
            <div class="card">
              <h3>Qué es una traza</h3>
              <p>
                Es una simulación manual que muestra cómo cambian las variables en cada iteración.
                No es “repetir el código”: es registrar el estado de variables clave.
              </p>
              <p style="margin-top:10px;">
                En ciclos, la traza te ayuda a detectar:
                (1) si se suma/contabiliza lo correcto, (2) si el progreso está bien, (3) si la condición corta donde debe.
              </p>
            </div>

            <div class="card">
              <h3>Ejemplo (centinela)</h3>
              <table>
                <thead>
                  <tr>
                    <th>Iteración</th>
                    <th>x</th>
                    <th>total (antes)</th>
                    <th>total (después)</th>
                    <th>cantidad</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td><td>10</td><td>0</td><td>10</td><td>1</td>
                  </tr>
                  <tr>
                    <td>2</td><td>5</td><td>10</td><td>15</td><td>2</td>
                  </tr>
                  <tr>
                    <td>Fin</td><td>-1</td><td>(no se procesa)</td><td>15</td><td>2</td>
                  </tr>
                </tbody>
              </table>
              <p class="note" style="margin-top:10px;">
                Pregunta obligatoria: ¿en qué parte del código podría colarse el -1 si lo escribes diferente?
              </p>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Traza · prueba de escritorio</span>
          <span class="counter">10 / 15</span>
        </div>
      </div>
    </section>

    <!-- 11) ERRORES COMUNES -->
    <section class="slide content-slide" data-title="Errores comunes">
      <div class="inner">
        <div class="content">
          <div class="header">Calidad</div>
          <h2>Errores comunes (y cómo evitarlos)</h2>

          <div class="two-col">
            <div class="card">
              <h3>1) Ciclo infinito</h3>
              <p>
                Pasa cuando la condición nunca cambia. Ejemplo: lees el valor una vez y nunca vuelves a leer,
                o el contador no incrementa.
              </p>
              <div class="code" style="margin-top:10px;">while (x != -1m)
{
  // ERROR: si aquí no vuelves a leer x, nunca cambia
}</div>
              <p class="note" style="margin-top:10px;">
                Solución: garantiza progreso (leer de nuevo / i++ / cambiar estado).
              </p>
            </div>

            <div class="card">
              <h3>2) Off-by-one</h3>
              <p>
                Pasa cuando haces una iteración de más o de menos por iniciar mal i o por usar &lt; en vez de &lt;=.
              </p>
              <div class="code" style="margin-top:10px;">// ¿quieres N datos?
for (int i = 1; i <= N; i++) { ... } // N iteraciones

// ¿quieres índices 0..N-1?
for (int i = 0; i < N; i++) { ... } // N iteraciones</div>
              <p class="note" style="margin-top:10px;">
                Solución: decide el rango (1..N o 0..N-1) y mantén coherencia.
              </p>
            </div>
          </div>

          <div class="callout">
            <p>
              Recomendación práctica: cuando un ciclo “no da”, no reescribas a ciegas.
              Haz una traza de 2–3 iteraciones y verás exactamente dónde falló la lógica.
            </p>
          </div>
        </div>

        <div class="footer">
          <span>Errores típicos</span>
          <span class="counter">11 / 15</span>
        </div>
      </div>
    </section>

    <!-- 12) ENTRADA ROBUSTA (C#) -->
    <section class="slide content-slide" data-title="Entrada robusta">
      <div class="inner">
        <div class="content">
          <div class="header">C#</div>
          <h2>Entrada robusta (TryParse) para no “romper” el programa</h2>

          <div class="two-col">
            <div class="card">
              <h3>Qué problema resuelve</h3>
              <p>
                Console.ReadLine() devuelve texto. Si el usuario escribe letras cuando esperas un número,
                Parse lanza error y el programa termina.
              </p>
              <p style="margin-top:10px;">
                Con TryParse, puedes detectar el error, mostrar un mensaje y pedir el dato otra vez.
              </p>
              <p class="note" style="margin-top:10px;">
                Esto eleva el estándar del curso: no solo “funciona”, también es resistente a entradas reales.
              </p>
            </div>

            <div class="card">
              <h3>Patrón recomendado</h3>
              <div class="code">static int LeerEntero(string mensaje)
{
  while (true)
  {
    Console.Write(mensaje);
    string s = Console.ReadLine() ?? "";

    if (int.TryParse(s, out int n))
      return n;

    Console.WriteLine("Entrada inválida. Intente de nuevo.");
  }
}

static decimal LeerDecimal(string mensaje)
{
  while (true)
  {
    Console.Write(mensaje);
    string s = Console.ReadLine() ?? "";

    if (decimal.TryParse(s, out decimal x))
      return x;

    Console.WriteLine("Entrada inválida. Intente de nuevo.");
  }
}</div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Robustez de entrada</span>
          <span class="counter">12 / 15</span>
        </div>
      </div>
    </section>

    <!-- 13) ACTIVIDAD -->
    <section class="slide content-slide" data-title="Actividad">
      <div class="inner">
        <div class="content">
          <div class="header">Actividad</div>
          <h2>Entrega en clase: consumos de energía</h2>

          <div class="card">
            <p><b>Enunciado:</b> leer N consumos (kWh) y calcular:</p>
            <ul style="margin-top:10px;">
              <li><b>Total</b> consumido (acumulador).</li>
              <li><b>Cuántos</b> consumos fueron &gt; 200 (contador).</li>
              <li><b>Promedio</b> (si N&gt;0; si N=0, define una salida segura).</li>
            </ul>
            <p style="margin-top:10px;">
              Tu solución debe explicar: qué variables usas, por qué son contadores o acumuladores,
              y cómo verificaste con mínimo 2 pruebas.
            </p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>Requisitos de entrega</h3>
              <ul>
                <li>C# consola (for recomendado).</li>
                <li>2 casos de prueba: normal + borde (por ejemplo N=0 o consumo=200 exacto).</li>
                <li>Una traza corta (al menos 2 iteraciones) que evidencie cambios en total y conteo.</li>
              </ul>
            </div>

            <div class="card">
              <h3>Pista (estructura)</h3>
              <div class="code">int N = LeerEntero("N: ");

decimal total = 0m;
int mayores200 = 0;

for (int i = 1; i <= N; i++)
{
  decimal c = LeerDecimal($"Consumo {i}: ");
  total += c;

  if (c > 200m)
    mayores200++;
}

if (N > 0)
{
  decimal promedio = total / N;
  Console.WriteLine($"Total: {total}");
  Console.WriteLine($">200: {mayores200}");
  Console.WriteLine($"Promedio: {promedio}");
}
else
{
  Console.WriteLine("N=0: no hay consumos.");
}</div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Actividad evaluable</span>
          <span class="counter">13 / 15</span>
        </div>
      </div>
    </section>

    <!-- 14) TICKET DE SALIDA -->
    <section class="slide content-slide" data-title="Cierre">
      <div class="inner">
        <div class="content">
          <div class="header">Cierre</div>
          <h2>Ticket de salida (5 min)</h2>

          <div class="card">
            <ol>
              <li>En una frase: ¿qué diferencia hay entre contador y acumulador?</li>
              <li>Escribe un ejemplo donde usarías for y uno donde usarías while (con una frase de por qué).</li>
              <li>Propón 1 caso borde para la actividad de consumos y explica qué valida.</li>
            </ol>
          </div>

          <div class="callout">
            <p>
              La calidad no se demuestra con “a mí me dio”.
              Se demuestra con: variables bien elegidas, ciclo bien controlado y pruebas que cubren bordes.
            </p>
          </div>

          <p class="note" style="margin-top:auto;">
            Navegación: <span class="kbd">←</span> <span class="kbd">→</span> |
            <span class="kbd">Home</span> <span class="kbd">End</span> |
            <span class="kbd">F</span> pantalla completa · En celular: swipe o botones
          </p>
        </div>

        <div class="footer">
          <span>Sesión 5</span>
          <span class="counter">14 / 15</span>
        </div>
      </div>
    </section>

    <!-- 15) CRÉDITOS / FIN -->
    <section class="slide content-slide" data-title="Fin">
      <div class="inner">
        <div class="content">
          <div class="header">Fin</div>
          <h2>Lo que debes poder hacer al salir</h2>

          <div class="two-col">
            <div class="card">
              <h3>Competencia práctica</h3>
              <ul>
                <li>Elegir entre for y while según el enunciado.</li>
                <li>Construir contadores y acumuladores sin reiniciarlos por error.</li>
                <li>Evitar división por cero y manejar N=0 de forma segura.</li>
                <li>Explicar tu solución con una traza corta.</li>
              </ul>
            </div>
            <div class="card">
              <h3>Para la próxima</h3>
              <ul>
                <li>Validación más formal: reintento con TryParse.</li>
                <li>Más ejercicios con máximos/mínimos y condiciones combinadas dentro del ciclo.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>I.U. Pascual Bravo</span>
          <span class="counter">15 / 15</span>
        </div>
      </div>
    </section>

    <!-- Navegación touch -->
    <div class="touch-nav" id="touchNav">
      <button type="button" id="btnPrev">← Anterior</button>
      <button type="button" id="btnNext">Siguiente →</button>
    </div>

  </div>
</div>

<script>
  (function(){
    const slides = Array.from(document.querySelectorAll('.slide'));
    const counters = Array.from(document.querySelectorAll('.counter'));
    const touchNav = document.getElementById('touchNav');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    let idx = 0;

    function clamp(n,min,max){ return Math.max(min, Math.min(max,n)); }

    function show(i){
      idx = clamp(i, 0, slides.length - 1);
      slides.forEach((s,k) => s.classList.toggle('active', k === idx));
      const label = (idx+1) + " / " + slides.length;
      counters.forEach(el => el.textContent = label);
      history.replaceState(null, "", "#" + (idx+1));
    }

    const m = (location.hash || "").match(/^#(\d+)$/);
    if(m){
      const start = parseInt(m[1], 10);
      if(!isNaN(start)) idx = clamp(start-1, 0, slides.length-1);
    }
    show(idx);

    document.addEventListener('keydown', (e) => {
      const k = e.key;

      if(k === 'f' || k === 'F'){
        if(!document.fullscreenElement){
          document.documentElement.requestFullscreen?.();
        }else{
          document.exitFullscreen?.();
        }
        return;
      }

      if(k === 'ArrowRight' || k === 'PageDown' || k === ' '){
        e.preventDefault(); show(idx+1);
      }else if(k === 'ArrowLeft' || k === 'PageUp'){
        e.preventDefault(); show(idx-1);
      }else if(k === 'Home'){
        e.preventDefault(); show(0);
      }else if(k === 'End'){
        e.preventDefault(); show(slides.length-1);
      }
    });

    // Touch: swipe + botones
    const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
    if(isTouch){
      touchNav.style.display = 'flex';

      btnPrev.addEventListener('click', () => show(idx-1));
      btnNext.addEventListener('click', () => show(idx+1));

      let x0=null, y0=null, t0=0;
      const SWIPE_MIN_X = 50;
      const SWIPE_MAX_Y = 80;
      const SWIPE_MAX_MS = 800;

      document.addEventListener('touchstart', (e)=>{
        const t = e.changedTouches[0];
        x0=t.clientX; y0=t.clientY; t0=Date.now();
      }, {passive:true});

      document.addEventListener('touchend', (e)=>{
        if(x0===null || y0===null) return;
        const t = e.changedTouches[0];
        const dx = t.clientX - x0;
        const dy = t.clientY - y0;
        const dt = Date.now() - t0;
        x0=null; y0=null;

        if(dt > SWIPE_MAX_MS) return;
        if(Math.abs(dy) > SWIPE_MAX_Y) return;

        if(dx <= -SWIPE_MIN_X) show(idx+1);
        else if(dx >= SWIPE_MIN_X) show(idx-1);
      }, {passive:true});
    }
  })();
</script>
</body>
</html>
